/* ===== MILESTONE CELEBRATION ANIMATIONS ===== */
/* Premium Mobile Game-Style Celebration Effects */

/* Base container */
.pf-milestone {
  position: relative;
  width: 100%;
  height: 320px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: visible;
  perspective: 1200px;
  transform-style: preserve-3d;
}

/* ===== 1. ACHIEVEMENT BURST - Epic Trophy Explosion ===== */
.pf-achievement-burst {
  background: transparent;
  overflow: visible;
}

/* Background gradient burst */
.pf-achievement-burst__bg-gradient {
  position: absolute;
  inset: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(
    circle at center,
    rgba(255, 215, 0, 0.2) 0%,
    rgba(255, 215, 0, 0.1) 20%,
    rgba(255, 165, 0, 0.05) 40%,
    transparent 70%
  );
  pointer-events: none;
  animation: pulseGlow 3s ease-in-out infinite;
}

/* Shockwave ring */
.pf-achievement-burst__shockwave {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 300px;
  height: 300px;
  border: 3px solid rgba(255, 215, 0, 0.8);
  border-radius: 50%;
  pointer-events: none;
}

/* Light burst rays */
.pf-achievement-burst__light-burst {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 400px;
  height: 400px;
  background: conic-gradient(
    from 0deg,
    transparent 0deg,
    rgba(255, 215, 0, 0.4) 10deg,
    transparent 20deg,
    transparent 40deg,
    rgba(255, 165, 0, 0.3) 50deg,
    transparent 60deg,
    transparent 80deg,
    rgba(255, 215, 0, 0.4) 90deg,
    transparent 100deg,
    transparent 120deg,
    rgba(255, 165, 0, 0.3) 130deg,
    transparent 140deg,
    transparent 160deg,
    rgba(255, 215, 0, 0.4) 170deg,
    transparent 180deg,
    transparent 200deg,
    rgba(255, 165, 0, 0.3) 210deg,
    transparent 220deg,
    transparent 240deg,
    rgba(255, 215, 0, 0.4) 250deg,
    transparent 260deg,
    transparent 280deg,
    rgba(255, 165, 0, 0.3) 290deg,
    transparent 300deg,
    transparent 320deg,
    rgba(255, 215, 0, 0.4) 330deg,
    transparent 340deg,
    transparent 360deg
  );
  pointer-events: none;
}

/* Trophy container */
.pf-achievement-burst__trophy-container {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 10;
}

/* Trophy image */
.pf-achievement-burst__trophy {
  width: 100px;
  height: 120px;
  object-fit: contain;
  filter: drop-shadow(0 4px 20px rgba(255, 215, 0, 0.6))
         drop-shadow(0 0 40px rgba(255, 215, 0, 0.4));
}

/* Trophy glow aura */
.pf-achievement-burst__trophy-glow {
  position: absolute;
  inset: -30%;
  background: radial-gradient(
    circle at center,
    rgba(255, 215, 0, 0.4) 0%,
    rgba(255, 215, 0, 0.2) 40%,
    transparent 70%
  );
  border-radius: 50%;
  pointer-events: none;
}

/* Coins container */
.pf-achievement-burst__coins {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 100%;
  pointer-events: none;
}

/* Individual coin */
.pf-achievement-burst__coin {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-style: preserve-3d;
}

.pf-achievement-burst__coin-img {
  width: 25px;
  height: 25px;
  object-fit: contain;
  filter: drop-shadow(0 2px 8px rgba(255, 215, 0, 0.6));
}

/* Stars container */
.pf-achievement-burst__stars {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 100%;
  pointer-events: none;
}

/* Individual star */
.pf-achievement-burst__star {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}

.pf-achievement-burst__star-img {
  width: 12px;
  height: 12px;
  object-fit: contain;
  filter: drop-shadow(0 0 6px rgba(255, 215, 0, 0.8))
         blur(0.3px);
}

/* Confetti container */
.pf-achievement-burst__confetti-container {
  position: absolute;
  left: 50%;
  top: 0;
  transform: translateX(-50%);
  width: 100%;
  height: 100%;
  pointer-events: none;
}

/* Individual confetti piece */
.pf-achievement-burst__confetti {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  filter: brightness(1.2) saturate(1.5);
  opacity: 0.9;
}

/* ===== 2. QUEST BURST - RPG Victory Scroll ===== */
.milestone-celebrations__quest-burst {
  position: relative;
  width: 100%;
  height: 320px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: visible;
  perspective: 1200px;
  transform-style: preserve-3d;
}

/* Magical Portal Background */
.quest-burst-portal {
  position: absolute;
  width: 350px;
  height: 350px;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
}

.portal-vortex {
  position: absolute;
  width: 100%;
  height: 100%;
  background: conic-gradient(
    from 0deg,
    transparent,
    rgba(147, 51, 234, 0.3),
    rgba(59, 130, 246, 0.4),
    rgba(147, 51, 234, 0.3),
    transparent,
    rgba(59, 130, 246, 0.4),
    rgba(147, 51, 234, 0.3),
    transparent
  );
  border-radius: 50%;
  animation: vortexSpin 8s linear infinite;
}

.portal-inner {
  position: absolute;
  width: 70%;
  height: 70%;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  background: radial-gradient(
    circle at center,
    rgba(147, 51, 234, 0.4) 0%,
    rgba(59, 130, 246, 0.2) 40%,
    transparent 70%
  );
  border-radius: 50%;
  animation: portalPulse 2s ease-in-out infinite;
}

/* Ancient Scroll */
.quest-burst-scroll {
  position: absolute;
  width: 220px;
  height: 280px;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-style: preserve-3d;
  z-index: 5;
}

.scroll-ornament {
  position: absolute;
  width: 100%;
  height: 40px;
  background: linear-gradient(
    90deg,
    #8B4513,
    #D2691E,
    #CD853F,
    #D2691E,
    #8B4513
  );
  border-radius: 20px;
  box-shadow: 
    inset 0 2px 4px rgba(0, 0, 0, 0.3),
    0 4px 8px rgba(139, 69, 19, 0.4);
}

.scroll-ornament-top {
  top: 0;
}

.scroll-ornament-bottom {
  bottom: 0;
}

.scroll-content {
  position: absolute;
  top: 40px;
  left: 0;
  right: 0;
  bottom: 40px;
  background: linear-gradient(
    180deg,
    #FFF8DC,
    #FAEBD7,
    #FFF8DC
  );
  box-shadow: 
    inset 0 0 20px rgba(139, 69, 19, 0.2),
    0 8px 16px rgba(0, 0, 0, 0.3);
  display: flex;
  align-items: center;
  justify-content: center;
}

.quest-complete-text {
  font-size: 24px;
  font-weight: 900;
  background: linear-gradient(
    180deg,
    #FFD700,
    #FFA500,
    #FF8C00
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-align: center;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  letter-spacing: 2px;
}

/* Crossed Swords */
.quest-burst-sword {
  position: absolute;
  width: 120px;
  height: 120px;
  top: 50%;
  transform-origin: center;
  z-index: 3;
  filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.4))
         drop-shadow(0 0 20px rgba(255, 165, 0, 0.3));
}

.sword-left {
  left: 50%;
  transform: translateX(-50%) translateY(-50%);
}

.sword-right {
  right: 50%;
  transform: translateX(50%) translateY(-50%) scaleX(-1);
}

/* Orbiting Gems */
.quest-burst-gem {
  position: absolute;
  left: 50%;
  top: 50%;
  width: 30px;
  height: 30px;
  transform: translate(-50%, -50%);
}

.quest-burst-gem img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  filter: drop-shadow(0 0 10px rgba(255, 0, 100, 0.6));
}

.diamond-gem {
  width: 100%;
  height: 100%;
  background: linear-gradient(
    45deg,
    #E0F7FA,
    #4FC3F7,
    #29B6F6,
    #0288D1
  );
  clip-path: polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%);
  filter: drop-shadow(0 0 10px rgba(41, 182, 246, 0.6));
}

/* Magic Particles */
.quest-burst-particle {
  position: absolute;
  left: 50%;
  top: 50%;
  background: radial-gradient(
    circle,
    rgba(147, 51, 234, 0.8),
    rgba(59, 130, 246, 0.6),
    transparent
  );
  border-radius: 50%;
  pointer-events: none;
}

/* Coin Fountain */
.quest-burst-coin {
  position: absolute;
  left: 50%;
  bottom: 20%;
  width: 24px;
  height: 24px;
  transform-style: preserve-3d;
}

.coin-inner {
  width: 100%;
  height: 100%;
  background: radial-gradient(
    circle at 30% 30%,
    #FFD700,
    #FFA500,
    #FF8C00
  );
  border-radius: 50%;
  box-shadow: 
    inset -2px -2px 4px rgba(0, 0, 0, 0.2),
    0 2px 8px rgba(255, 215, 0, 0.5);
}

/* Magic Dust */
.quest-burst-dust {
  position: absolute;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.dust-particle {
  position: absolute;
  width: 2px;
  height: 2px;
  background: rgba(147, 51, 234, 0.8);
  border-radius: 50%;
  animation: floatDust 3s ease-in-out infinite;
}

/* Achievement banner */
.pf-achievement-burst__banner {
  position: absolute;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  background: linear-gradient(
    135deg,
    #FFD700 0%,
    #FFED4E 25%,
    #FFA500 50%,
    #FFED4E 75%,
    #FFD700 100%
  );
  padding: 12px 30px;
  border-radius: 30px;
  box-shadow: 
    0 8px 25px rgba(0, 0, 0, 0.3),
    0 4px 10px rgba(255, 215, 0, 0.5),
    inset 0 2px 4px rgba(255, 255, 255, 0.5),
    inset 0 -2px 4px rgba(0, 0, 0, 0.2);
  z-index: 20;
  position: relative;
  overflow: hidden;
}

/* Banner shine effect */
.pf-achievement-burst__banner-shine {
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.6) 50%,
    transparent 100%
  );
  animation: bannerShine 3s ease-in-out infinite;
  animation-delay: 2s;
}

/* Banner text */
.pf-achievement-burst__banner-text {
  font-size: 16px;
  font-weight: 900;
  color: #8B4513;
  text-transform: uppercase;
  letter-spacing: 1px;
  text-shadow: 
    0 2px 4px rgba(0, 0, 0, 0.3),
    0 1px 0 rgba(255, 255, 255, 0.5);
  text-align: center;
  margin-bottom: 4px;
}

/* Banner stars */
.pf-achievement-burst__banner-stars {
  display: flex;
  justify-content: center;
  gap: 8px;
  font-size: 14px;
  color: #8B4513;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.3));
}

.pf-achievement-burst__banner-stars span {
  animation: starTwinkle 1s ease-in-out infinite;
}

.pf-achievement-burst__banner-stars span:nth-child(2) {
  animation-delay: 0.33s;
}

.pf-achievement-burst__banner-stars span:nth-child(3) {
  animation-delay: 0.66s;
}

/* Screen flash */
.pf-achievement-burst__flash {
  position: fixed;
  inset: 0;
  background: radial-gradient(
    circle at center,
    rgba(255, 255, 255, 0.8),
    rgba(255, 255, 255, 0.4)
  );
  pointer-events: none;
  z-index: 100;
}

/* Keyframe Animations */
@keyframes pulseGlow {
  0%, 100% {
    transform: scale(1);
    opacity: 0.8;
  }
  50% {
    transform: scale(1.1);
    opacity: 1;
  }
}

@keyframes bannerShine {
  0% {
    left: -100%;
  }
  50%, 100% {
    left: 200%;
  }
}

@keyframes starTwinkle {
  0%, 100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.3);
    opacity: 0.7;
  }
}

/* Quest Burst Animations */
@keyframes vortexSpin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes portalPulse {
  0%, 100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.6;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.2);
    opacity: 1;
  }
}

@keyframes floatDust {
  0% {
    transform: translateY(0) translateX(0);
    opacity: 0;
  }
  20% {
    opacity: 1;
  }
  80% {
    opacity: 1;
  }
  100% {
    transform: translateY(-30px) translateX(10px);
    opacity: 0;
  }
}

/* ===== 3. LOYALTY TIER - VIP Diamond Ascension ===== */
.milestone-celebrations__loyalty-tier {
  position: relative;
  width: 100%;
  height: 320px;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: visible;
  perspective: 1200px;
  transform-style: preserve-3d;
  background: radial-gradient(
    circle at center,
    rgba(138, 43, 226, 0.05) 0%,
    transparent 70%
  );
}

/* Cosmic Dust */
.loyalty-cosmic-dust {
  position: absolute;
  width: 3px;
  height: 3px;
  background: linear-gradient(
    135deg,
    #9333ea,
    #a855f7,
    #c084fc
  );
  border-radius: 50%;
  box-shadow: 0 0 6px rgba(147, 51, 234, 0.8);
  pointer-events: none;
}

/* Main Diamond Container */
.loyalty-main-diamond-container {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 10;
}

.loyalty-main-diamond {
  width: 90px;
  height: 90px;
  object-fit: contain;
  filter: drop-shadow(0 0 30px rgba(138, 43, 226, 0.6))
         drop-shadow(0 0 60px rgba(168, 85, 247, 0.4));
}

/* Diamond Aura */
.diamond-aura {
  position: absolute;
  inset: -40%;
  background: radial-gradient(
    circle,
    rgba(168, 85, 247, 0.4) 0%,
    rgba(138, 43, 226, 0.2) 40%,
    transparent 70%
  );
  border-radius: 50%;
  pointer-events: none;
}

/* Brilliance Sparkles */
.diamond-brilliance {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.brilliance-sparkle {
  position: absolute;
  width: 4px;
  height: 4px;
  background: white;
  border-radius: 50%;
  animation: brillianceFlash 2s infinite;
}

/* Prismatic Light Beams */
.prismatic-beam {
  position: absolute;
  left: 50%;
  top: 50%;
  width: 300px;
  height: 4px;
  transform-origin: left center;
  pointer-events: none;
  filter: blur(1px);
}

/* Royal Crown */
.loyalty-crown {
  position: absolute;
  left: 50%;
  top: 30%;
  transform: translateX(-50%);
  z-index: 12;
}

.loyalty-crown img {
  width: 70px;
  height: 70px;
  object-fit: contain;
  filter: drop-shadow(0 4px 20px rgba(255, 215, 0, 0.6))
         drop-shadow(0 0 40px rgba(255, 215, 0, 0.3));
}

/* Crown Jewels */
.crown-jewel {
  position: absolute;
  width: 8px;
  height: 8px;
  background: radial-gradient(
    circle,
    #ff6b6b,
    #c92a2a
  );
  border-radius: 50%;
  box-shadow: 0 0 10px rgba(255, 107, 107, 0.8);
}

.crown-jewel-center {
  top: -5px;
  left: 50%;
  transform: translateX(-50%);
  background: radial-gradient(
    circle,
    #4dabf7,
    #1971c2
  );
  box-shadow: 0 0 10px rgba(77, 171, 247, 0.8);
}

.crown-jewel-left {
  top: 10px;
  left: 15px;
}

.crown-jewel-right {
  top: 10px;
  right: 15px;
}

/* Orbital Diamonds */
.orbital-diamond-container {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
}

.orbital-diamond {
  position: absolute;
  width: var(--size);
  height: var(--size);
}

.orbital-diamond img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  filter: drop-shadow(0 0 10px rgba(168, 85, 247, 0.6));
}

.orbital-trail {
  position: absolute;
  inset: -20%;
  background: radial-gradient(
    circle,
    rgba(168, 85, 247, 0.3),
    transparent
  );
  border-radius: 50%;
  animation: trailFade 1s infinite;
}

/* Velvet Cushion */
.loyalty-cushion {
  position: absolute;
  bottom: 60px;
  left: 50%;
  transform: translateX(-50%);
  width: 180px;
  height: 40px;
  z-index: 5;
}

.cushion-top {
  position: absolute;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    180deg,
    #7c3aed,
    #6d28d9,
    #5b21b6
  );
  border-radius: 50% / 30%;
  box-shadow: 
    inset 0 -5px 10px rgba(0, 0, 0, 0.3),
    0 5px 15px rgba(124, 58, 237, 0.4);
}

.cushion-side {
  position: absolute;
  width: 100%;
  height: 15px;
  bottom: -10px;
  background: linear-gradient(
    180deg,
    #5b21b6,
    #4c1d95
  );
  border-radius: 50% / 100%;
}

.cushion-shadow {
  position: absolute;
  width: 120%;
  height: 20px;
  bottom: -15px;
  left: -10%;
  background: radial-gradient(
    ellipse,
    rgba(0, 0, 0, 0.3),
    transparent
  );
  filter: blur(5px);
}

/* VIP Banner */
.loyalty-banner {
  position: absolute;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  align-items: center;
  z-index: 15;
}

.banner-center {
  padding: 8px 24px;
  background: linear-gradient(
    90deg,
    #7c3aed,
    #9333ea,
    #7c3aed
  );
  border: 2px solid #fbbf24;
  border-left: none;
  border-right: none;
}

.vip-text {
  font-size: 18px;
  font-weight: 900;
  background: linear-gradient(
    90deg,
    #fbbf24,
    #f59e0b,
    #fbbf24
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-shadow: 0 2px 10px rgba(251, 191, 36, 0.5);
  letter-spacing: 3px;
}

.banner-edge {
  width: 0;
  height: 0;
  border-style: solid;
}

.banner-edge-left {
  border-width: 20px 15px 20px 0;
  border-color: transparent #7c3aed transparent transparent;
}

.banner-edge-right {
  border-width: 20px 0 20px 15px;
  border-color: transparent transparent transparent #7c3aed;
}

/* Banner Particles */
.banner-particles {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.banner-particle {
  position: absolute;
  width: 3px;
  height: 3px;
  background: #fbbf24;
  border-radius: 50%;
  box-shadow: 0 0 6px rgba(251, 191, 36, 0.8);
}

/* Caustic Light Patterns */
.caustic-patterns {
  position: absolute;
  width: 100%;
  height: 100%;
  pointer-events: none;
  opacity: 0.3;
}

.caustic-pattern {
  position: absolute;
  width: 60px;
  height: 60px;
  background: radial-gradient(
    circle,
    rgba(168, 85, 247, 0.4),
    transparent
  );
  border-radius: 50%;
  animation: causticMove 4s ease-in-out infinite;
}

/* Animations for Loyalty Tier */
@keyframes brillianceFlash {
  0%, 100% {
    opacity: 0;
    transform: scale(0);
  }
  50% {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes trailFade {
  0%, 100% {
    opacity: 0.3;
  }
  50% {
    opacity: 0.6;
  }
}

@keyframes causticMove {
  0%, 100% {
    transform: translate(0, 0) scale(1);
    opacity: 0.3;
  }
  50% {
    transform: translate(10px, -10px) scale(1.2);
    opacity: 0.5;
  }
}

/* ===== PLACEHOLDER STYLES FOR OTHER ANIMATIONS ===== */
/* These will be fully implemented next */

.pf-quest-burst {
  background: radial-gradient(circle at center, rgba(138, 43, 226, 0.1), transparent);
}

.pf-loyalty-tier {
  background: radial-gradient(circle at center, rgba(185, 242, 255, 0.1), transparent);
}

.pf-breakthrough {
  background: radial-gradient(circle at center, rgba(0, 212, 255, 0.1), transparent);
}

.pf-achievement {
  background: radial-gradient(circle at center, rgba(255, 215, 0, 0.1), transparent);
}

.pf-banner {
  background: linear-gradient(to bottom, rgba(106, 13, 173, 0.05), transparent);
}

.pf-tier-lights {
  background: linear-gradient(135deg, rgba(0, 255, 255, 0.05), rgba(255, 20, 147, 0.05));
}

.pf-badge-glow {
  background: radial-gradient(circle at center, rgba(0, 0, 128, 0.08), transparent);
}

.pf-fireworks {
  background: linear-gradient(to top, rgba(0, 0, 0, 0.1), transparent);
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .pf-milestone * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}